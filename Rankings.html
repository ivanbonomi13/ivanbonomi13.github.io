<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="EstiloRankings.css">
    <link rel="stylesheet" type="text/css" href="normalize.css">
    <link rel="stylesheet" type="text/css" href="EstiloPaginaPrincipal.css">
    <link rel="icon" href="Imagenes pagina ufc\LogoUFC.ico">
    <title>Rankings de Pesos</title>
</head>

<body>
    <header>
        <nav>
            <a href="Carteleras.html" class="menu-item left-menu">
                Eventos
            </a>
            <a href="Rankings.html" class="menu-item left-menu">
                Rankings
            </a>
            <a href="index.html" class="menu-item ufc-logo">
                UFC
            </a>
            <a href="Peleadores.html" class="menu-item right-menu">
                Peleadores
            </a>
            <a href="Tienda.html" class="menu-item right-menu">
                Tienda
            </a>
        </nav>
    </header>
    <div class="contenedor-rankings" id="contenedor-rankings"></div>

    <script>
        function mostrarRankings() {
            const jsonPath = '/rankings.json'; // Reemplaza con la URL correcta del JSON
            const contenedorRankings = document.getElementById('contenedor-rankings');

            const xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        const data = JSON.parse(xhr.responseText);
                        construirRankings(data.categorias);
                    } else {
                        console.error('Error al cargar el archivo JSON:', xhr.statusText);
                    }
                }
            };

            xhr.open('GET', jsonPath, true);
            xhr.send();

            function construirRankings(categorias) {
                const contenedorRankings = document.getElementById('contenedor-rankings');

                for (const categoria of categorias) {
                    const contenedorTabla = document.createElement('div');
                    contenedorTabla.classList.add('contenedor-tabla');

                    const tabla = document.createElement('table');
                    tabla.classList.add('tabla-rankings');

                    const filaCabecera = document.createElement('tr');
                    const celdaCabecera = document.createElement('th');
                    celdaCabecera.colSpan = 2;

                    const encabezadoCategoria = document.createElement('div');
                    encabezadoCategoria.classList.add('rankings--athlete--champion', 'clearfix', 'fadeIn', 'expanded');

                    const infoCategoria = document.createElement('div');
                    infoCategoria.classList.add('info');

                    const nombreCategoria = document.createElement('h4');
                    nombreCategoria.textContent = categoria.nombre;

                    const nombreCampeon = document.createElement('h5');
                    const enlaceCampeon = document.createElement('a');
                    enlaceCampeon.href = `/Peleadores/${categoria.campeon}.html`; // Reemplaza con la ruta correcta
                    enlaceCampeon.hreflang = 'es'; // Reemplaza con el idioma correcto
                    enlaceCampeon.appendChild(document.createTextNode(categoria.campeon));
                    nombreCampeon.appendChild(enlaceCampeon);

                    const fraseCampeon = document.createElement('h6');
                    fraseCampeon.classList.add('text');
                    fraseCampeon.textContent = 'Campeón';

                    const imagenCampeon = document.createElement('img');
                    imagenCampeon.src = `Imagenes pagina ufc/${categoria.campeon}.jpg`; // Reemplaza con la ruta correcta de la imagen
                    imagenCampeon.alt = `${categoria.campeon}`;

                    infoCategoria.appendChild(nombreCategoria);
                    infoCategoria.appendChild(nombreCampeon);
                    infoCategoria.appendChild(fraseCampeon);

                    encabezadoCategoria.appendChild(infoCategoria);
                    encabezadoCategoria.appendChild(imagenCampeon);

                    celdaCabecera.appendChild(encabezadoCategoria);
                    filaCabecera.appendChild(celdaCabecera);
                    tabla.appendChild(filaCabecera);

                    for (const peleador of categoria.peleadores) {
                        const filaPeleador = document.createElement('tr');
                        filaPeleador.innerHTML = `<td class="posicion">${peleador.posicion}</td>
                                                <td class="peleador-ranking" id="miElemento" colspan="1"><a href="Peleadores/${peleador.nombre}.html">${peleador.nombre}</a></td>`;
                        tabla.appendChild(filaPeleador);
                    }

                    // Agregar eventos de mouseover y mouseout a cada elemento anterior y elemento-a-estilar
                    const elementosAnteriores = document.querySelectorAll('.posicion');
                    const elementosAestilar = document.querySelectorAll('.peleador-ranking');

                    elementosAnteriores.forEach(function (elementoAnterior, index) {
                        elementoAnterior.addEventListener('mouseover', function () {
                            // Cambiar el fondo tanto del elemento anterior como del elemento-a-estilar
                            elementoAnterior.style.backgroundColor = '#e3e3e3';
                            elementosAestilar[index].style.backgroundColor = '#e3e3e3';
                        });

                        elementoAnterior.addEventListener('mouseout', function () {
                            // Restaurar el fondo predeterminado tanto del elemento anterior como del elemento-a-estilar
                            elementoAnterior.style.backgroundColor = '#fff';
                            elementosAestilar[index].style.backgroundColor = '#fff';
                        });
                    });

                    elementosAestilar.forEach(function (elementoAestilar, index) {
                        elementoAestilar.addEventListener('mouseover', function () {
                            // Cambiar el fondo tanto del elemento anterior como del elemento-a-estilar
                            elementosAnteriores[index].style.backgroundColor = '#e3e3e3';
                            elementoAestilar.style.backgroundColor = '#e3e3e3';
                        });

                        elementoAestilar.addEventListener('mouseout', function () {
                            // Restaurar el fondo predeterminado tanto del elemento anterior como del elemento-a-estilar
                            elementosAnteriores[index].style.backgroundColor = '#fff';
                            elementoAestilar.style.backgroundColor = '#fff';
                        });
                    });

                    contenedorTabla.appendChild(tabla);
                    contenedorRankings.appendChild(contenedorTabla);
                }
            }
        }

        window.onload = mostrarRankings;

    </script>


    <footer id="footer">
        <div class="content-footer">
            <label class="lbl-footer">Todos los derechos reservados ©</label>
        </div>
    </footer>

</body>

</html>