<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="EstiloRankings.css">
    <link rel="stylesheet" type="text/css" href="normalize.css">
    <link rel="stylesheet" type="text/css" href="EstiloPaginaPrincipal.css">
    <link rel="icon" href="Imagenes pagina ufc\LogoUFC.ico">
    <title>Rankings de Pesos</title>
</head>

<body>
    <header>
        <nav>
            <a href="Carteleras.html" class="menu-item left-menu">
                Eventos
            </a>
            <a href="Rankings.html" class="menu-item left-menu">
                Rankings
            </a>
            <a href="index.html" class="menu-item ufc-logo">
                UFC
            </a>
            <a href="Peleadores.html" class="menu-item right-menu">
                Peleadores
            </a>
            <a href="Tienda.html" class="menu-item right-menu">
                Tienda
            </a>
        </nav>
    </header>
    <div class="contenedor-rankings" id="contenedor-rankings"></div>

    <script>
        function mostrarRankings() {
            const jsonPath = '/rankings.json'; // Reemplaza con la URL correcta del JSON
            const contenedorRankings = document.getElementById('contenedor-rankings');

            const xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    if (xhr.status === 200) {
                        const data = JSON.parse(xhr.responseText);
                        construirRankings(data.categorias);
                    } else {
                        console.error('Error al cargar el archivo JSON:', xhr.statusText);
                    }
                }
            };

            xhr.open('GET', jsonPath, true);
            xhr.send();

            function construirRankings(categorias) {
                for (const categoria of categorias) {
                    const lista = document.createElement('div');
                    lista.classList.add('lista-rankings');

                    lista.innerHTML = `<h2>${categoria.nombre}</h2>
                                        <p>Campeon</p>
                                        <h3>${categoria.campeon}</h3>
                                        <a href="Peleadores/${categoria.campeon}.html">
                                            <img src="Imagenes pagina ufc/${categoria.campeon}.jpg">
                                        </a>`;

                    const ul = document.createElement('ul');
                    for (const peleador of categoria.peleadores) {
                        const li = document.createElement('li');
                        li.innerHTML = `${peleador.posicion}<a>${peleador.nombre}</a>`;
                        ul.appendChild(li);
                    }

                    lista.appendChild(ul);
                    contenedorRankings.appendChild(lista);
                }
            }
        }

        window.onload = mostrarRankings;
    </script>
    <footer id="footer">
        <div class="content-footer">
            <label class="lbl-footer">Todos los derechos reservados Â©</label>
        </div>
    </footer>

</body>

</html>